<!DOCTYPE html>
<html>
  <head>
    <script src="https://d3js.org/d3.v5.min.js">
    </script>
  </head>
  <body>

    <script>

      var x = 1
      var width = 325;
      var height = 550;
      var margin = {top: 75, left: 25, right: 60, bottom: 150}


      var svg = d3.select("body")
        .append("svg")
        .attr("width",width)
        .attr("height",height)
        .append("g");

      var grp = svg.append("g")
        .attr("transform", "translate(0,0)");

      var phone = grp.append("rect")
        .attr("rx",20)
        .attr("ry",20)
        .attr("x",0)
        .attr("y",0)
        .attr("width", 325)
        .attr("height", 550)
        .attr("transform", function(d, i) { return "scale(" + (1 - d / 25) * 20 + ")"; })
        .attr("fill","#000000");

      var displayBase = grp.append("rect")
        .attr("x",10)
        .attr("y",50)
        .attr("width",305)
        .attr("height",425)
        .attr("transform", function(d, i) { return "scale(" + (1 - d / 25) * 20 + ")"; })
        .attr("fill","#FF6A5A");

      var phoneButton = grp.append("circle")
        .attr("cx",162.5)
        .attr("cy",510)
        .attr("r",20)
        .attr("stroke-width",3)
        .attr("stroke","#353031")
        .attr("fill","#000000");

      var camera = grp.append("circle")
        .attr("cx",100)
        .attr("cy",25)
        .attr("r",5)
        .attr("fill","#353031");

      var speaker = grp.append("rect")
        .attr("rx",2.5)
        .attr("ry",2.5)
        .attr("x",125)
        .attr("y",21)
        .attr("width", 75)
        .attr("height", 7.5)
        .attr("transform", function(d, i) { return "scale(" + (1 - d / 25) * 20 + ")"; })
        .attr("fill","#353031");

      // var display2 = grp.append("rect")
      //   .attr("x",10)
      //   .attr("y",356)
      //   .attr("width",305)
      //   .attr("height",119)
      //   .attr("fill","#B83564")
      //   .on("click", function(){
      //       d3.select(this)
      //       .attr("x",10)
      //       .attr("y",266.25)
      //       .attr("width",305)
      //       .attr("height",208.25)
      //       .attr("fill","#B83564")
      //   });

        // var line1 = grp.append("text")
        //   .attr("class","line")
        //   .attr("id", "Line1")
        //   .attr("width", "33%")
        //   .attr("x", 65)
        //   .attr("y", 200)
        //   .attr("z-index", "10")
        //   .attr("font-size", 40)
        //   .style('font-family','Helvetica')
        //   .style('fill','#FFFFFF')
        //   .text("28 Percent");
        //
        // var line2 = grp.append("text")
        //   .attr("class","line")
        //   .attr("id", "Line2")
        //   .attr("x", 30)
        //   .attr("y", 220)
        //   .attr("z-index", "10")
        //   .attr("font-size", 12)
        //   .style('font-family','Helvetica')
        //   .style('fill','#FFFFFF')
        //   .text("of people identifying as straight use dating apps.");

        var data = [
          {x:"Straight",y:28},
          {x:"Gay",y:48},
        ];

        var xScale = d3.scaleBand()
          .domain(["Straight","Gay"])
          .rangeRound([margin.left*2, width-margin.right*2])
          .padding(0.5);
        var yScale = d3.scaleLinear()
          .domain([0,100])
          .range([height-margin.bottom,margin.top*2]);

        var xAxis = svg.append("g")
          .attr("transform", `translate (${margin.left},${height-margin.bottom})`)
          .call(d3.axisBottom().scale(xScale));

        var yAxis = svg.append("g")
          .attr("transform", `translate(${margin.left*3},0)`)
          .call(d3.axisLeft().scale(yScale));

        var xLabel = svg.append("text")
          .attr("class","axisLabel")
          .attr("x", width/2)
          .attr("y", margin.top*1.25)
          .attr("text-anchor","middle")
          .attr("font-size","8pt")
          .attr("font-family","Helvetica")
          .text("Dating Application Usage by Sexual Orientation")

        var yLabel = svg.append("text")
          .attr("class","axisLabel")
          .attr("transform","rotate(-90)")
          .attr("y",margin.left*1.5)
          .attr("x",-height/2)
          .attr("text-anchor","middle")
          .attr("font-size","8pt")
          .attr("font-family","Helvetica")
          .text("Percentage that Uses Dating Apps")

        var bar = svg.selectAll("rect")
          .data(data)
          .enter()
          .append("rect")
            .attr("x",function(d) {return xScale(d.x); })
            .attr("y", function(d) {return yScale(d.y); })
            .attr("width", xScale.bandwidth())
            .attr("height",function(d){return height - margin.bottom - yScale(d.y); })
            .attr("fill", "#B83564")
            .on("mouseover", function() {
              d3.select(this)
                .attr("fill", "#FFB350");
            }) .on("mouseout", function() {
              d3.select(this)
                .attr("fill", "#B83564")
            });


    </script>

</body>
</html>
